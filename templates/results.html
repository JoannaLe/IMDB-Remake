{% extends "base.html" %}
{% block content %}
<div class="row">
	<form>
		<div id="searchbar-results">
				<input class="song-input form-control" id="song-input2" type="text" name="song-input" value="{{ search_term }}">
			<br>
				<button id="search2" type="submit" class="btn btn-success" formaction="/search/">Search songs by the same artist!</button>
		</div>
	</form>
</div>
<div class="row">
	<div>
		{% for artist, details in data.iteritems() %}
			<div>
				<h3>Other Songs by {{ artist.name }}</h3>
			</div>
			<table class="table table-striped table-dark table-hover">
		      <thead>
		        <tr>
		          <th scope="col">Songs</th>
		          <th scope="col">Movies featured in:</th>
		        </tr>
		      </thead>
		      <tbody>
		        {% for song, artists, movies in details %}
		          <tr data-href= "{{song.name}}" >
		            <td class="clickable">
		            	<img src="">
		            	<div class="song">
			            	<h4>{{ song }}</h4>
			            	<!-- display artists here under song name -->
			            	{{ artists|join(", ") }}
		            	</div>
		            </td>
		            <td>
		            	<!-- display movies here -->
		            	<h4>{{ movies|join(", ") }}</h4>
		            </td>
		            <td>
		            	<form method="POST" action="/update/">
		            		<button class="btn btn-primary update" formaction="/update/">Update</button>
		            	</form>
		            </td>
		            <td>
		            	<button class="btn btn-danger delete" id="{{song.name}}">x</button>
		            </td>
		          </tr>
		        {% endfor %}
		      </tbody>
		    </table>
		    <form method="GET" action="/add/">
				<button id="add" type="submit" class="btn btn-info" formaction="/add/">Add Song</button>
			</form>
		{% endfor %}
	</div>
</div>
{% endblock %}